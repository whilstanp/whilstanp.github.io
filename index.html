<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Progressive Web Apps</title>
  <link rel="stylesheet" href="/src/css/material.css">
  <script src="/material.min.js"></script>
  <link rel="manifest" href="/manifest.json">
</head>
<body>
<script>
  if ('serviceWorker' in navigator) {
    console.log("Will the service worker register?");
    navigator.serviceWorker.register('sw.js')
      .then(function(reg){
        console.log("Yes, it did.");
      }).catch(function(err) {
        console.log("No it didn't. This happened: ", err)
      });
 }
</script>
<script>
  let deferredPrompt;
  window.addEventListener('beforeinstallprompt', function(event) {
    deferredPrompt = e;
  });
  btnAdd.addEventListener('click', (e) => {
    btnAdd.style.display = 'initial';
    deferredPrompt.prompt();
    deferredPrompt.userChoice
      .then((choiceResult) => {
      if (choiceResult.outcome === 'accepted') {
        console.log('User accepted the A2HS prompt');
      } else {
        console.log('User dismissed the A2HS prompt');
      }
      deferredPrompt = null;
    });
  });
</script>
<div class="title">
  <h1>Progressive Web Apps</h1>
</div>
<div class="content">
  <div class="course-feature" id="installable">
    <p>They're installable (without an App Store)!</p>
  </div>
  <div class="course-feature" id="offline">
    <p>They can work offline!</p>
  </div>
  <div class="course-feature" id="responsive">
    <p>They look good on any device</p>
  </div>
  <div class="course-feature" id="push">
    <p>You can receive Push Messages...</p>
  </div>
  <div class="course-feature" id="notifications">
    <p>...and show Notifications</p>
  </div>
  <div class="course-feature" id="native-features">
    <p>PWAs can access native device features like the Camera</p>
  </div>
  <div class="course-feature" id="more">
    <p>And so much more!</p>
  </div>
</div>
<div class="start-over">
  <button>Start Again!</button>
</div>
<script src="/src/js/app.js"></script>
</body>
</html>
